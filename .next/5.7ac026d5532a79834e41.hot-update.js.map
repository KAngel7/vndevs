{"version":3,"file":"5.7ac026d5532a79834e41.hot-update.js","sources":["webpack:///src/Landing/Caption/index.tsx"],"sourcesContent":["import React, { RefObject } from 'react';\nimport './style.css';\n\nconst CAPTION_WEIGHT = 3400;\nconst FPS = 120;\nconst SLOW = 0.08;\n\nclass Caption extends React.Component<{}, {}> {\n  lastTime: number;\n  a = 0;\n  v = 0;\n  captionRef: RefObject<HTMLDivElement> = React.createRef();\n  isMove = false;\n  translate = 0;\n  lastWheel = new Date().getTime();;\n  componentDidMount() {\n    window.addEventListener('wheel', this.handleWheel);\n    this.startAnimate();\n  }\n  componentWillUnmount() {\n    window.removeEventListener('wheel', this.handleWheel);\n    this.stopAnimate();\n  }\n  handleWheel = (e: WheelEvent) => {\n    e.preventDefault();\n    this.a = e.deltaY / CAPTION_WEIGHT;\n    if (this.a > 0.015) this.a = 0.015;\n    this.lastWheel = new Date().getTime();\n  };\n  startAnimate = () => {\n    this.isMove = true;\n    this.moveLoop();\n  }\n  stopAnimate = () => {\n    this.isMove = false;\n  }\n  moveLoop = () => {\n    requestAnimationFrame((time) => {\n      if (!this.lastTime) this.lastTime = time;\n      const deltaTime = time - this.lastTime;\n      if (deltaTime > (1000 / FPS)) {\n        this.draw(deltaTime);\n        this.lastTime = time;\n      }\n      if(this.isMove) {\n        this.moveLoop();\n      }\n    });\n  }\n  draw = (deltaTime: number) => {\n    this.v += this.a * deltaTime;\n    const direction = this.v > 0 ? 1 : -1;\n    this.v = (Math.abs(this.v) - Math.abs(this.v) * SLOW);\n    if (this.v < 0) this.v = 0;\n    if (this.v > 2) this.v = 2;\n    this.v *= direction;\n    this.translate -= this.v * deltaTime;\n    if (this.translate > 0) this.translate = 0;\n    if (this.translate < -1000) this.translate = -1000;\n    this.captionRef.current.style.transform = `translate(0, ${this.translate}px)`;\n    if (new Date().getTime() - this.lastWheel > deltaTime) {\n      this.a = 0;\n    }\n  }\n  render() {\n    return (\n      <div className=\"home-caption\" ref={this.captionRef}>\n        <div className=\"caption-section caption-intro\">\n          <h1 className=\"home-title\">VNDEVS</h1>\n          <h3 className=\"home-subtitle\">Developers from Viet Nam</h3>\n        </div>\n        <div className=\"caption-section caption-intro-2\">\n          <h1 className=\"home-title\">VNDEVS</h1>\n          <h3 className=\"home-subtitle\">Developers from Viet Nam</h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Caption;\n\n\n// WEBPACK FOOTER //\n// src/Landing/Caption/index.tsx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;AACA;;;;;AACA;;;;;AACA;;;;;AACA;;;;;AACA;;;;;AASA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AACA;AACA;AAAA;AACA;;;;;AACA;AACA;AACA;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;AAhDA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;;;AA0CA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAtEA;AACA;AAwEA;;;;A","sourceRoot":""}